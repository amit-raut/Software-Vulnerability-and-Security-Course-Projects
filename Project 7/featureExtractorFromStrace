#!/usr/bin/env python
__author__ = 'AR'

import os

def getUniqSysCalls(straceFile):
    with open(straceFile) as file:
        syscalls = tuple(set(ln.split('(', 1)[0] for ln in file if (ln.find('(') != -1)))
        return syscalls

universalSetofFeatures = []
featureSet = [] 

def main():
    files = [x for x in os.listdir('/home/currentanalyst/007') if x.endswith('.txt')]
    for f in files:
        strace = os.path.join('/home/currentanalyst/007',f)
        # print strace, f
        # print f[:4], sorted(getUniqSysCalls(strace))
        featureSet.append(sorted(getUniqSysCalls(strace)))
        # universalSetofFeatures.append(getUniqSysCalls(strace))

    # print universalSetofFeatures
    print featureSet


if __name__ == '__main__':
    main()
